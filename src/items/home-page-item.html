<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="home-page-item">
  <template>
    <style>
    :host {
      background-position: 50% 50%;
      box-sizing: border-box;
      color: rgb(51, 51, 51);
      height: 144px;
      position: relative;
      text-decoration: none solid rgb(51, 51, 51);
      width: 256px;
      column-rule-color: rgb(51, 51, 51);
      perspective-origin: 128px 72px;
      transform-origin: 128px 72px;
      caret-color: rgb(51, 51, 51);
      background: rgb(67, 46, 55) url("https://demo.tvstore.opera.com/rotopipe/assets/placeholder-bg.png") no-repeat scroll 50% 50% / auto padding-box border-box;
      border: 0px none rgb(51, 51, 51);
      font: normal normal normal normal 24px / 33.6px "Open Sans";
      outline: rgb(51, 51, 51) none 0px;
      transition: margin-top 0.4s ease 0s, opacity 0.4s ease 0s;
      display: inline-block;
    }/*#DIV_1*/

    #DIV_PLAY.focus {
      opacity: 1;
    }

    #DIV_PLAY {
      background-position: -144px -48px;
      bottom: 48px;
      color: rgb(51, 51, 51);
      content: "";
      display: block;
      height: 48px;
      left: 128px;
      opacity: 0;
      position: absolute;
      right: 104px;
      text-decoration: none solid rgb(51, 51, 51);
      top: 72px;
      width: 48px;
      column-rule-color: rgb(51, 51, 51);
      perspective-origin: 24px 24px;
      transform-origin: 24px 24px;
      caret-color: rgb(51, 51, 51);
      background: rgba(0, 0, 0, 0) url("https://demo.tvstore.opera.com/rotopipe/assets/UI_icons.png") no-repeat scroll -144px -48px / auto padding-box border-box;
      border: 0px none rgb(51, 51, 51);
      font: normal normal normal normal 24px / 33.6px "Open Sans";
      margin: -24px 0px 0px -24px;
      outline: rgb(51, 51, 51) none 0px;
      transform: translateZ(0);
      transition: opacity 0.3s ease 0s;
    }/*#DIV_1:after*/

    #SPAN_2 {
      bottom: 0px;
      color: rgb(255, 255, 255);
      display: block;
      height: 25px;
      left: 0px;
      position: absolute;
      text-decoration: none solid rgb(255, 255, 255);
      text-transform: uppercase;
      width: 35.6719px;
      column-rule-color: rgb(255, 255, 255);
      perspective-origin: 27.8281px 12.5px;
      transform-origin: 27.8281px 12.5px;
      caret-color: rgb(255, 255, 255);
      background: rgb(0, 0, 0) none repeat scroll 0% 0% / auto padding-box border-box;
      border: 0px none rgb(100, 149, 237);
      font: normal normal normal normal 18px / 25.2px "Open Sans";
      outline: rgb(255, 255, 255) none 0px;
      padding: 0px 10px;
    }/*#SPAN_2*/

    #IMG_3 {
      color: rgb(51, 51, 51);
      height: 144px;
      max-height: 100%;
      text-decoration: none solid rgb(51, 51, 51);
      width: 256px;
      column-rule-color: rgb(51, 51, 51);
      perspective-origin: 128px 72px;
      transform-origin: 128px 72px;
      caret-color: rgb(51, 51, 51);
      border: 0px none rgb(51, 51, 51);
      font: normal normal normal normal 24px / 33.6px "Open Sans";
      outline: rgb(51, 51, 51) none 0px;
      transition: opacity 0.6s ease 0s;
    }/*#IMG_3*/

    #IMG_4 {
      bottom: 8px;
      color: rgb(51, 51, 51);
      display: block;
      height: 64px;
      left: 184px;
      position: absolute;
      right: 8px;
      text-decoration: none solid rgb(51, 51, 51);
      top: 72px;
      width: 64px;
      column-rule-color: rgb(51, 51, 51);
      perspective-origin: 32px 32px;
      transform-origin: 32px 32px;
      caret-color: rgb(51, 51, 51);
      border: 0px none rgb(51, 51, 51);
      font: normal normal normal normal 24px / 33.6px "Open Sans";
      outline: rgb(51, 51, 51) none 0px;
      transition: opacity 0.6s ease 0s;
    }/*#IMG_4*/

    </style>
  	 <span id="SPAN_2">[[getRandomDuration()]]</span>
     <img src="[[thumbnail]]" alt="" id="IMG_3" />
     <img src="[[icon]]" alt="" id="IMG_4" />
     <div id="DIV_PLAY"></div>
  </template>

  <script src="/src/js/loglevel.js"></script>
  <script>
    Polymer({

      is: 'home-page-item',

      properties: {
        thumbnail: {
          type: String,
          computed: 'getImageUrl(loremImg)'
        },
        icon: {
          type: String,
          computed: 'getImageUrl(loremImg)'
        },
        loremImg: {
          type: String,
          value: 'http://lorempixel.com/400/200/'
        },
        duration: {
          type: String,
          value: '00:00'
        }
      },
      getRandomDuration: function() {
        var hours = Math.floor(Math.random() * 60);
        var minutes = Math.floor(Math.random() * 60);
        return hours + ":" + minutes;
      },
      getImageUrl: function(img) {
        return img + '?dummy=' + Math.floor(Math.random() * 10000);
      },
      ready: function() {
        this.logger = log.getLogger('items');
      },
      attached: function() {
        this.logger.debug("home-page-item attached!");
      },
      onFocus: function() {
        this.logger.debug("home-page-item focus!");
        this.$['DIV_PLAY'].classList.add('focus');
        return true;
      },
      onBlur: function() {
        this.logger.debug("home-page-item blur!");
        this.$['DIV_PLAY'].classList.remove('focus');
        return true;
      },
      onKeyEvent: function() {
        return false;
      }
    });
  </script>
</dom-module>
